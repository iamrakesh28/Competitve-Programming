#include <iostream>
#include <vector>
#include <algorithm>

using namespace std;

const int N = 1e6 + 5;
char input_s[N];

class SuffixArray {
    int n;
    vector <int> p, c;
    string str;

public:
    SuffixArray(char s[], int n) : n(n), str(s) {
        p.resize(n);
        c.resize(n);

        vector <int> cnt(max(n, 2), 0);
        for (int i = 0; i < n; ++i)
            cnt[s[i] - '0'] ++;
        for (int i = 1; i < 2; i++)
            cnt[i] += cnt[i - 1];
        for (int i = 0; i < n; ++i)
            p[--cnt[s[i] - '0']] = i;

        c[p[0]] = 0;
        int classes = 1;
        for (int i = 1; i < n; i++) {
            if (s[p[i]] != s[p[i - 1]])
                classes++;
            c[p[i]] = classes - 1;
        }

        vector <int> pn(n), cn(n);
        for (int h = 0; (1 << h) < n; ++h) {
            for (int i = 0; i < n; i++) {
                pn[i] = p[i] - (1 << h);
                if (pn[i] < 0)
                    pn[i] += n;
            }
            fill(cnt.begin(), cnt.begin() + classes, 0);

            for (int i = 0; i < n; i++)
                cnt[c[pn[i]]]++;
            for (int i = 1; i < classes; i++)
                cnt[i] += cnt[i - 1];
            for (int i = n - 1; i >= 0; i--)
                p[--cnt[c[pn[i]]]] = pn[i];

            cn[p[0]] = 0;
            classes = 1;
            for (int i = 1; i < n; i++) {
                pair<int, int> cur = {c[p[i]], c[(p[i] + (1 << h)) % n]};
                pair<int, int> prev = {c[p[i - 1]], c[(p[i - 1] + (1 << h)) % n]};
                if (cur != prev)
                    ++classes;
                cn[p[i]] = classes - 1;
            }

            for (int i = 0; i < n; ++i)
                c[i] = cn[i];
        }

        /*
        for (int i = 0; i < n; ++i) {
            for (int j = p[i]; j < n; ++j)
                cout << s[j];
            cout << endl;
        }
        */
    }

    int upper_bound_zero(int start, int end, int depth) {

        int bound = -1, mid;
        while (start <= end) {
            mid = (start + end) >> 1;
            if (s[p[mid] + depth] == '0') {
                bound = mid;
                start = mid + 1;
            }
            else
                end = mid - 1;
        }

        return bound;
    }

    ~SuffixArray() {}
  
};

int main() {

    int q;
    scanf("%d", &q);

    while (q--) {
        int n, k;
        scanf("%d%d%s", &n, &k, input_s);

        SuffixArray suff_org(input_s, n);
        reverse(input_s, input_s + n);
        SuffixArray suff_rev(input_s, n);
    }
  
    return 0;
}
