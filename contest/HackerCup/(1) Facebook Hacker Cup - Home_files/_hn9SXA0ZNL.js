if (self.CavalryLogger) { CavalryLogger.start_js(["vif7C"]); }

__d("MessengerContactAdapters",["ImmutableObject","MercuryTypeaheadConstants","immutable"],(function(a,b,c,d,e,f){__p&&__p();a={fromSearchableEntry:function(a){__p&&__p();var c=a.getType(),d={alias:null,isMessengerUser:null,isWorkUser:null,isVerified:null,workForeignEntityInfo:null,participants:null,photo:a.getPhoto(),subtitle:a.getSubtitle(),thread:null,title:a.getTitle(),type:c,uid:a.getUniqueID(),timestamp:null,matchRanges:null};d.photo||(d.photo=null);var e=a.getAuxiliaryData();if(e){c==b("MercuryTypeaheadConstants").MESSAGE_TYPE&&(d.uid=e.thread_id);e.timestamp&&(d.timestamp=e.timestamp);c===b("MercuryTypeaheadConstants").MESSAGE_TYPE&&e.matchRanges!=null&&(d.matchRanges=e.matchRanges);a=c===b("MercuryTypeaheadConstants").MESSAGE_TYPE&&e.messageResultType==="groupConversation";c===b("MercuryTypeaheadConstants").THREAD_TYPE||a?(d.thread=new(b("ImmutableObject"))(e.thread),d.participants=b("immutable").Map().withMutations(function(a){e.participantsToRender.forEach(function(b){a.set(b.id,b)})})):(d.isMessengerUser=e.isMessengerUser,d.isWorkUser=e.isWorkUser,d.isVerified=e.isVerified,d.workForeignEntityInfo=e.workForeignEntityInfo,d.alias=e.alias)}return new(b("ImmutableObject"))(d)},fromMercuryParticipant:function(a){return new(b("ImmutableObject"))({alias:a.alias,uid:a.id,photo:a.image_src,title:a.name,subtitle:a.title?a.title:"",type:a.type,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,isVerified:a.is_verified,isCoworker:a.is_coworker,href:a.href,timezone:a.timezone,workForeignEntityInfo:a.work_foreign_entity_info})}};e.exports=a}),null);
__d("MessengerProfileImageWrapperReact.bs",["cx","cssVar","React","ReactDOMRe.bs","CurrentUser","ReasonReact.bs","TooltipData","joinClasses","bs_js_primitive","MessagingThreadType","getViewportDimensions","MessengerDotComAndInboxM4Check.bs","LazyWorkMultiCompanyChatTooltipReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("MessengerProfileImageWrapperReact");function j(a,c,d,e,f,g,h,j,k,l,m,n){__p&&__p();var o=l!==void 0?l:"",p=function(){__p&&__p();if(c!==void 0)return b("React").createElement("div",{className:"_4ld_ _2pom"},b("React").createElement("div",{className:"_2pon _67in"},b("bs_js_primitive").valFromOption(c)));else{var a;if(d!==void 0||e!==void 0||k!==void 0)a=1;else return null;if(a===1)if(m)if(e!==void 0)if(b("CurrentUser").isWorkUser())return null;else{a=e;return b("React").createElement("div",{className:"_4ld_ _2pom"},b("React").createElement("div",{className:"_2pon"+(a?" _1zvi":"")+(a?"":" _2poo")}))}else if(k!==void 0)if(b("CurrentUser").isWorkUser()){a=k;var f=j!==void 0?j>45:!1;return b("React").createElement("div",{className:"_4ld_ _2pom"},b("ReasonReact.bs").element(void 0,void 0,b("LazyWorkMultiCompanyChatTooltipReact.bs").make([b("React").createElement("div",{className:(a&&!f?"_4rwy":"")+(a&&f?" _2zb5":"")})])))}else return null;else if(b("CurrentUser").isWorkUser())return null;else{a=d;return b("React").createElement("div",{className:"_4ld_ _2pom"},b("React").createElement("div",{className:"_2pon"+(a?" _2poo":"")+(a?"":" _2pop")}))}else return null}};return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){__p&&__p();var c=j!==void 0?""+(String(j)+"px"):"auto",d=g!==void 0?g===b("MessagingThreadType").ROOM:!1,e;if(h!==void 0){var i=h;if(i==="")e={};else{var k=b("getViewportDimensions")().width,l=parseInt("700px".replace("px",""),10);k=k<=l;l=k?"above":"left";e=Object.assign({},b("TooltipData").propsFor(i,l))}}else e={};k=d?{background:f!==void 0?f:"#0084ff",height:c,width:c}:{height:c,width:c};i={className:b("joinClasses")("_4ldz",o),style:{height:c,width:c}};a!==void 0&&(i["aria-hidden"]=b("bs_js_primitive").valFromOption(a));return b("React").cloneElement(b("React").createElement("div",i,b("ReactDOMRe.bs").createElementVariadic("div",{className:"_4ld-"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7q1r":"")+(d?" _180i":""),style:k},n),p(0)),e)},i[9],i[10],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){var c=a.className;return j(b("bs_js_primitive").nullable_to_opt(a.ariaHidden),b("bs_js_primitive").nullable_to_opt(a.customBadge),b("bs_js_primitive").nullable_to_opt(a.isMessengerUser),void 0,b("bs_js_primitive").nullable_to_opt(a.threadColor),b("bs_js_primitive").nullable_to_opt(a.threadType),b("bs_js_primitive").nullable_to_opt(a.tooltipContent),b("bs_js_primitive").nullable_to_opt(a.size),a.isMultiCompany,c==null?"":c,a.showBadge,[].concat(a.children))});f.component=i;f.make=j;f.jsComponent=a}),null);
__d("MessengerContactImage.react",["Image.react","MessengerProfileImageWrapperReact.bs","React"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MessengerProfileImageWrapperReact.bs").jsComponent;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:this.props.className},b("React").createElement(g,{isMessengerUser:this.props.isMessengerUser,isPartiesUser:this.props.isPartiesUser,size:this.props.size,customBadge:this.props.customBadge,showBadge:!1},b("React").createElement(b("Image.react"),{alt:"",height:this.props.size,src:this.props.src,width:this.props.size})))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("BadgeReact.bs",["Badge.react","ReasonReact.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("Badge.react"),{size:b("bs_js_null_undefined").fromOption(a),type:b("bs_js_null_undefined").fromOption(c)},d)}f.make=a}),null);
__d("ImageBlockReact.bs",["ReasonReact.bs","ImageBlock.react","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("ImageBlock.react"),{className:b("bs_js_null_undefined").fromOption(a),contentClassName:b("bs_js_null_undefined").fromOption(c),imageClassName:b("bs_js_null_undefined").fromOption(d),spacing:b("bs_js_null_undefined").fromOption(e)},f)}f.make=a}),null);
__d("MercuryThreadTimestampReact.bs",["React","formatDate","ReasonReact.bs","joinClasses","bs_js_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").statelessComponent("MercuryThreadTimestampReact");function h(a,c,d,e,f){var h=e!==void 0?e:"";return[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],function(){if(a!==void 0){var e=a,f=new Date(e),g=c!==void 0?c:f.toLocaleDateString();f=d!==void 0?d:b("formatDate")(f,"g:ia");return b("React").cloneElement(b("React").createElement("abbr",{className:b("joinClasses")(h,"timestamp"),title:g},f),{"data-utime":e/1e3})}else return b("React").createElement("abbr",void 0)},g[9],g[10],g[11],g[12]]}a=b("ReasonReact.bs").wrapReasonForJs(g,function(a){return h(b("bs_js_primitive").nullable_to_opt(a.time),b("bs_js_primitive").nullable_to_opt(a.title),b("bs_js_primitive").nullable_to_opt(a.text),a.className,[])});f.component=g;f.make=h;f.jsComponent=a}),null);
__d("MessengerContactActions.bs",[],(function(a,b,c,d,e,f){"use strict";a={ADD_OWNER:"ADD_OWNER",FREE_CALL:"FREE_CALL",MESSAGE:"MESSAGE",PROFILE:"PROFILE",REMOVE:"REMOVE",REMOVE_OWNER:"REMOVE_OWNER",SELECT:"SELECT",REPORT_GROUP_CHAT_USER:"REPORT_GROUP_CHAT_USER"};f.actions=a}),null);
__d("MessengerContactImageReact.bs",["Image.bs","React","bs_belt_Option","ReasonReact.bs","bs_js_primitive","bs_js_null_undefined","MessengerContactImage.react","MessengerProfileImageWrapperReact.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").statelessComponent("MessengerContactImageReact");function h(a,c,d,e,f,h,i,j){var k=i!==void 0?i:!1;return[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],function(){return b("React").createElement("div",{className:b("bs_belt_Option").getWithDefault(a,"")},b("ReasonReact.bs").element(void 0,void 0,b("MessengerProfileImageWrapperReact.bs").make(!0,c,d,e,void 0,void 0,void 0,f,k,void 0,k,[b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,"",void 0,void 0,h,f,void 0,f,void 0,[]))])))},g[9],g[10],g[11],g[12]]}c=b("ReasonReact.bs").wrapReasonForJs(g,function(a){return h(b("bs_js_primitive").nullable_to_opt(a.className),b("bs_js_primitive").nullable_to_opt(a.customBadge),b("bs_js_primitive").nullable_to_opt(a.isMessengerUser),b("bs_js_primitive").nullable_to_opt(a.isPartiesUser),a.size,b("bs_js_primitive").nullable_to_opt(a.src),b("bs_js_primitive").nullable_to_opt(a.isMultiCompany),[])});function a(a,c,d,e,f,g,h,i){return b("ReasonReact.bs").wrapJsForReason(b("MessengerContactImage.react"),{className:b("bs_js_null_undefined").fromOption(a),customBadge:b("bs_js_null_undefined").fromOption(c),isMessengerUser:b("bs_js_null_undefined").fromOption(d),isPartiesUser:b("bs_js_null_undefined").fromOption(e),size:f,src:b("bs_js_null_undefined").fromOption(g),isMultiCompany:b("bs_js_null_undefined").fromOption(h)},i)}d=[a];e=b("bs_belt_Option").getWithDefault;f.$pipe$unknown=e;f.component=g;f.make=h;f.jsComponent=c;f.StraightJSComponent=d}),null);
__d("MessengerGraphQLTypeaheadAdapter",["fbt","MercuryIDs","MercuryParticipantTypes","MercuryTypeaheadConstants","SearchableEntry","WorkForeignEntityType","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("gkx")("857049");function i(a){return b("MercuryIDs").isValid(a)?a:b("MercuryIDs").getParticipantIDFromUserID(a)}function j(a){var b=a.scim_company_user&&a.scim_company_user.company_title;a=a.is_viewer_coworker?null:a.work_info&&a.work_info.work_community&&a.work_info.work_community.name;if(a&&b)return a+" \u2022 "+b;else if(a)return a;else if(b)return b;return null}function k(a,b){var c=null;a.members&&a.members.edges&&a.members.edges.length>0?c=a.members.edges.map(function(a){return a.node.name}).join(", "):a.is_work_user?c=j(a):b&&a.is_viewer_friend===!1&&(c=b);return c}var l={convertProfileToEntry:function(a,c){var d;if(!a||!a.id||!a.name)return null;var e=b("MercuryParticipantTypes").NON_FRIEND;d=a.is_viewer_coworker||((d=a.work_foreign_entity_info)!=null?d.type:d)===b("WorkForeignEntityType").NOT_FOREIGN;a.is_work_user&&d?e=b("MercuryParticipantTypes").FB4C:(a.is_viewer_friend||a.messenger_contact.is_on_viewer_contact_list||d&&a.viewer_affinity>0)&&(e=b("MercuryParticipantTypes").FRIEND);d=k(a,c);return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:e,subtitle:d,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMemorializedUser:a.is_memorialized,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,isVerified:!h&&a.is_verified,workForeignEntityInfo:a.work_foreign_entity_info,alias:a.username},order:-a.viewer_affinity})},convertPageToEntry:function(a,c){if(!a||!a.id||!a.name)return null;return a.instant_game_info?this.convertGameToEntry(a,c):new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:c,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,canViewerMessage:a.can_viewer_message,isVerified:!h&&a.is_verified,canViewerAddToGroupChat:a.can_viewer_add_to_group_chat},order:0})},convertGameToEntry:function(a,c){return!a||!a.id||!a.name||!a.instant_game_info?null:new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:b("MercuryTypeaheadConstants").GAME_TYPE,photo:a.instant_game_info&&a.instant_game_info.icon_uri,uri:a.instant_game_info&&a.instant_game_info.game_uri,order:0})},convertMessageToEntry:function(a){__p&&__p();if(a==null||a.thread_id==null||a.message_thread==null||a.message_thread.thread==null||a.matched_message==null||a.matched_message.message==null)return null;var c=a.thread_id,d="message:"+c,e=a.message_thread.thread,f=a.matched_message.message,j=a.matched_message,k=f.snippet;a=Number(a.message_thread.approx_count);var m=g._("{number of messages} matched messages",[g._param("number of messages",a)]);m=a>1?m:k;k=f.timestamp;typeof k==="number"&&a===1?k*=1e3:k=void 0;a=a==1?(f=j)!=null?(f=f.search_result_context)!=null?f.match_ranges:f:f:null;j={matchRanges:a,timestamp:k,thread_id:c,messageResultType:"1on1Conversation"};f="";a=null;if(e.image!==void 0){e.thread_name&&(f=e.thread_name);e.image&&(a=e.image.uri);if(e.all_participants&&e.all_participants.nodes&&e.all_participants.count){if(f==""){k=e.all_participants.count;var n=e.all_participants.nodes.map(function(a){return a.messaging_actor.name}).filter(Boolean);f=l.getParticipantsText(!0,n,k)}n=e.all_participants.nodes.map(function(a){a=i(a.messaging_actor.id);return{id:a}});j=babelHelpers["extends"]({},j,{messageResultType:"groupConversation",participantsToRender:n,thread:{thread_id:c,image_src:a,participants:n.map(function(a){return a.id})}})}}else if(e.all_participants&&e.all_participants.nodes[0]&&e.all_participants.nodes[0].messaging_actor){k=e.all_participants.nodes[0].messaging_actor;k.name&&(f=k.name);k.profile_picture&&(a=k.profile_picture.uri);typeof k.is_memorialized==="boolean"&&(j.isMemorializedUser=k.is_memorialized);typeof k.is_messenger_user==="boolean"&&(j.isMessengerUser=k.is_messenger_user);typeof k.is_work_user==="boolean"&&(j.isWorkUser=k.is_work_user);typeof k.is_verified==="boolean"&&(!h&&(k.__typename==="User"||k.__typename==="Page")?j.isVerified=k.is_verified:j.isVerified=!1);typeof k.username==="string"&&(j.alias=k.username);k.work_foreign_entity_info&&(j.workForeignEntityInfo=k.work_foreign_entity_info)}return new(b("SearchableEntry"))({uniqueID:d,title:f,subtitle:m,type:b("MercuryTypeaheadConstants").MESSAGE_TYPE,photo:a,uri:null,order:0,auxiliaryData:j})},convertGroupToEntry:function(a,c){__p&&__p();if(!a||!a.thread_key||!a.is_group_thread)return null;var d=a.thread_key.thread_fbid;if(!d)return null;var e=a.image&&a.image.uri,f=a.other_participants.edges.map(function(a){return a.node.messaging_actor.name});f=l.getParticipantsText(!1,f,a.other_participants.count);var g=a.name,h=null;!g?g=f:h=f;if(!g)return null;f={};f.thread={thread_id:d,other_user_fbid:null,image_src:e,participants:a.other_participants.edges.map(function(a){return i(a.node.messaging_actor.id)})};f.participantsToRender=a.other_participants.edges.map(function(a){return{id:i(a.node.messaging_actor.id),is_messenger_user:a.node.messaging_actor.is_messenger_user,is_coworker:a.node.messaging_actor.is_viewer_coworker}});return new(b("SearchableEntry"))({uniqueID:d,order:c,photo:e,title:g,subtitle:h,type:b("MercuryParticipantTypes").THREAD,auxiliaryData:f})},getValidatedMatchesRanges:function(a,b){__p&&__p();if(!Array.isArray(a))return[];a=[].concat(a).filter(function(a){var c=a.length;a=a.offset;if(typeof c!=="number"||typeof a!=="number")return;return c>0&&a>=0&&a+c<=b.length}).sort(function(a,b){return a.offset-b.offset});var c=[];a.forEach(function(a,b){if(b!=0){b=c[c.length-1];b=b.offset+b.length;if(a.offset<b)return}c.push(a)});return c},getParticipantsText:function(a,b,c,d){__p&&__p();d===void 0&&(d=3);if(a===null||c==null)return b.join(", ");var e=1;a||(c+=e);var f=b.length<=d;a=a&&b.length===c;if(f&&a)return b.slice(0,-1).join(", ");f=b.slice(0,d);a=c-e-f.length;return a<1?f.join(", "):g._("{name of the first n participants} and {number of other participants} more",[g._param("name of the first n participants",f.join(", ")),g._param("number of other participants",a)])}};e.exports=l}),null);
__d("MessengerLocalTimeReact.bs",["cx","fbt","React","ReasonReact.bs","joinClasses","MercuryThreadTimestampReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("RMessengerLocalTimeReact");function a(a,c,d){__p&&__p();return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){__p&&__p();if(c!==void 0){var d=c-new Date().getTimezoneOffset()*-60;if(d===0)return null;else{d=new Date(Date.now()+d*1e3);var e=d.getHours();e=e<6||e>22;var f=b("joinClasses")("_10rk",a);return b("React").createElement("span",{className:f},b("React").createElement("span",{className:e?"_2f3x":""},"(",b("ReasonReact.bs").element(void 0,void 0,b("MercuryThreadTimestampReact.bs").make(d.getTime(),void 0,void 0,void 0,[]))," ",h._("local time"),")"))}}else return null},i[9],i[10],i[11],i[12]]}c=22;d=6;f.component=i;f.nightStartHour=c;f.nightEndHour=d;f.make=a}),null);
__d("MessengerTextWithEntitiesReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerTextWithEntities.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerTextWithEntities.react"),{renderEmoji:b("bs_js_null_undefined").fromOption(a),renderEmoticons:b("bs_js_null_undefined").fromOption(c),text:b("bs_js_null_undefined").fromOption(d)},e)}f.make=a}),null);
__d("MessengerContactListRowReact.bs",["cx","ix","fbt","FBID.bs","bs_block","bs_curry","Image.bs","React","Utils.bs","gkx","bs_caml_obj","BadgeReact.bs","Link.react","MercuryIDs","ReactDOMRe.bs","ReasonReact.bs","TooltipData","joinClasses","bs_js_primitive","MessengerState.bs","PresenceStatus","ImageBlockReact.bs","MercuryTimestamp","bs_js_null_undefined","WorkForeignEntityInfo.bs","AvailableListConstants","MercuryParticipantTypes","MessengerContactActions.bs","MessengerLocalTimeReact.bs","MessengerAdminGroupUtils","MessengerThreadImageReact.bs","MessengerContactImageReact.bs","MercuryThreadTimestampReact.bs","MessengerTextWithEntitiesReact.bs","MessengerGraphQLTypeaheadAdapter","MercuryIgnoredBlockedParticipants.bs","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a,c){if(a!==void 0)return b("bs_js_primitive").valFromOption(a).contains(c);else return!1}function k(a,c,d){var e=d.thread,f=d.participants,g=d.type===b("MercuryParticipantTypes").THREAD||d.type===b("MercuryParticipantTypes").MESSAGE,h=d.photo,i,j,k;c!==void 0?f==null||!g?i=1:(j=b("bs_js_primitive").valFromOption(c),k=f,i=2):e==null||f==null||!g?i=1:(j=e,k=f,i=2);switch(i){case 1:if(h==null)return b("React").createElement("div",{className:"_5l39"});else{c=!b("WorkForeignEntityInfo.bs").isContactCoworker(d);return b("ReasonReact.bs").element(void 0,void 0,b("MessengerContactImageReact.bs").make("_5l39 _5rmm",void 0,b("bs_js_primitive").nullable_to_opt(d.isMessengerUser),void 0,32,h,c,[]))}case 2:return b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadImageReact.bs").make("_5l39",void 0,void 0,void 0,32,k,j,a,[]))}}function l(a){var c=a.type===b("MercuryParticipantTypes").PAGE;a=b("WorkForeignEntityInfo.bs").isContactCoworker(a);if(c&&a)return b("ReasonReact.bs").element(void 0,void 0,b("BadgeReact.bs").make("medium","bot",[]));else return null}function m(a){a=a.isVerified;a=a==null?!1:a;if(a)return b("ReasonReact.bs").element(void 0,void 0,b("BadgeReact.bs").make("medium","verified",[]));else return null}function n(a,c){__p&&__p();var d=[],e=[0];c.forEach(function(c){__p&&__p();var f=c.offset;c=c.offset+c.length|0;if(e[0]<f){var g=a.substring(e[0],f);d.push(g)}g=b("React").createElement("span",{className:"_7u0a"},a.substring(f,c));d.push(g);e[0]=c;return 0});c=a.substring(e[0],a.length);d.push(c);return d}function o(a){return b("React").createElement("div",{className:"_3q34"},b("ReasonReact.bs").element(void 0,void 0,b("MessengerTextWithEntitiesReact.bs").make(!0,!0,a.title,[])),l(a),m(a))}function p(a){__p&&__p();var c=a.subtitle,d=0;if(c==null||c==="")d=1;else{var e=b("MessengerGraphQLTypeaheadAdapter").getValidatedMatchesRanges(a.matchRanges,c);c=n(c,e);e=b("bs_caml_obj").caml_equal(a.type,b("MercuryParticipantTypes").MESSAGE);var f=a.timestamp;if(e&&!(f==null)){e=f;return b("React").createElement("div",void 0,o(a),b("React").createElement("div",{className:"_5l-3"},b("ReactDOMRe.bs").createElementVariadic("span",{className:"_3q35 _7s4c"},c),b("React").createElement("span",{className:"_7s4d"},"\xb7"),b("ReasonReact.bs").element(void 0,void 0,b("MercuryThreadTimestampReact.bs").make(e,b("MercuryTimestamp").getAbsoluteTimestamp(e),b("MercuryTimestamp").getRelativeTimestamp(e),"_7s4e",[]))))}else f=2;if(f===2)return b("React").createElement("div",void 0,o(a),b("ReactDOMRe.bs").createElementVariadic("div",{className:"_3q35"},c))}if(d===1)return b("React").createElement("div",{className:"_364g"},a.title,b("ReasonReact.bs").element(void 0,void 0,b("MessengerLocalTimeReact.bs").make("_5ywd",b("bs_js_primitive").nullable_to_opt(a.timezone),[])),l(a),m(a))}function q(a,c,d){__p&&__p();if(b("gkx")("818495")){var e=[!1],f=b("FBID.bs").ofString(a.uid);if(f!==void 0&&d!==void 0){var g=b("bs_js_primitive").valFromOption(d);b("MessengerState.bs").compute(c,function(a){e[0]=b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(c,a.blocked_ids,g);return 0})}if(e[0])return b("React").createElement("div",void 0,o(a),b("React").createElement("div",{className:"_3q35"},i._("Blocked")));else return p(a)}else return p(a)}function r(a){var c=a.subtitle,d;if(c==null||c==="")d=1;else return b("React").createElement("div",{className:"_364g"},c,b("React").createElement("span",{className:"_7l-p"},b("ReasonReact.bs").element(void 0,void 0,b("MessengerTextWithEntitiesReact.bs").make(!0,!0,a.title.substring(c.length+3|0,a.title.length),[]))));if(d===1)return b("React").createElement("div",{className:"_364g _7l-p"},a.title.substring(3,a.title.length),b("ReasonReact.bs").element(void 0,void 0,b("MessengerLocalTimeReact.bs").make("_5ywd",b("bs_js_primitive").nullable_to_opt(a.timezone),[])))}function s(a,c){var d=c.type;if(a!==void 0&&a&&!(d==null||!(d===b("MercuryParticipantTypes").FRIEND||d===b("MercuryParticipantTypes").USER))){a=b("MercuryIDs").getUserIDFromParticipantID(c.uid);if(a==null)return!1;else return b("PresenceStatus").get(a)===b("AvailableListConstants").ACTIVE}else return!1}var t=b("React").createElement("span",{className:"_5rh4"},i._("Added")),u=b("React").createElement("span",{className:"_5rh4"},i._("Invited")),v=b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_1kqm",void 0,void 0,void 0,h("86852"),void 0,void 0,void 0,void 0,[]));function w(a,c){c[1][2][0]=a==null?void 0:b("bs_js_primitive").some(a);return 0}function x(a){__p&&__p();a=a[1];var c=a[4],d=a[5],e=a[2][0];if(c!==void 0&&c&&d!==void 0&&e!==void 0){c=b("bs_js_primitive").valFromOption(e);b("bs_curry")._1(d,c);e=a[6];if(e!==void 0)return b("bs_curry")._1(e,c);else return 0}else return 0}function y(a){__p&&__p();var c=a[1],d=c[1][4];a=a[0][1][5];var e=c[1][2][0];if(d!==void 0&&d&&a!==void 0&&e!==void 0){d=b("bs_js_primitive").valFromOption(e);b("bs_curry")._1(a,d);e=c[1][6];if(e!==void 0)return b("bs_curry")._1(e,d);else return 0}else return 0}function a(){__p&&__p();var a=b("ReasonReact.bs").reducerComponent("MessengerContactListRowReact"),c=function(c,d,e,f,g,h,l,m,n,o,p,z,A,B,C,D,E,F,G,H,I,J,K){__p&&__p();var L=D!==void 0?D:"",M=function(a){if(h!==void 0)return 0;else{a.stopPropagation();a.preventDefault();return 0}},N=function(a,c){if(a===b("MessengerContactActions.bs").actions.SELECT)if(f!==void 0)return b("bs_js_primitive").valFromOption(f)(d,c);else return 0;else if(g!==void 0)return b("bs_curry")._2(g,a,d);else return 0},O=function(){var a=b("Utils.bs").isSomeTrue(o);if(a&&e!==void 0)return b("bs_curry")._1(e,d);else return 0},P=function(a){a.stopPropagation();return N(b("MessengerContactActions.bs").actions.SELECT,a)},Q=function(a){__p&&__p();var c=a[3];a=a[1];if(E!==void 0){var d=b("bs_js_primitive").valFromOption(E).get(a[0].uid);d=d==null?[null,!0]:[d,!0]}else d=[null,!1];if(j(C,a[0].uid))return t;else if(j(p,a[0].uid))return u;else if(j(F,a[0].uid))return v;else if(d[1])return d[0];else if(s(G,a[0]))return b("React").createElement("div",{className:"_jg2"});else{d=b("bs_js_null_undefined").fromOption(l);var e=a[0].thread;e=H!==void 0?b("MessengerAdminGroupUtils").isAdminRequired(b("bs_js_primitive").valFromOption(H)):e==null?!1:b("MessengerAdminGroupUtils").isAdminRequired(e);var f=a[0].thread,g,k=0,m;H!==void 0?(m=b("bs_js_primitive").valFromOption(H),k=1):f==null?g=!1:(m=f,k=1);if(k===1){f=b("MercuryIDs").isValid(a[0].uid);k=f?b("bs_js_primitive").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a[0].uid)):b("FBID.bs").ofString(a[0].uid);f=k!==void 0?b("MessengerAdminGroupUtils").isAdmin(d,b("bs_js_primitive").valFromOption(k)):!1;g=b("MessengerAdminGroupUtils").isOwner(f,m)}k=g?b("React").createElement("span",{className:"_5qsj"},i._("Admin")):null;if(h!==void 0)return b("React").createElement("div",void 0,k,b("React").createElement(b("bs_js_primitive").valFromOption(h),{className:"_rwo",admins:d,contact:a[0],extrasEnabled:n,isAdminRequired:e,isOpen:a[1],onAction:N,onToggle:function(a){return b("bs_curry")._1(c,[a])},viewer:J}));else return k}};return[a[0],a[1],a[2],function(a){var e=d===a[3];if(e)return a;else return[b("bs_curry")._1(c,d),a[1],a[2],d,a[4],a[5],a[6]]},x,y,a[6],a[7],function(a){__p&&__p();var c=a[1],d=b("joinClasses")(L,"_5l37"+(b("Utils.bs").optionBoolToBool(z)?" _1k1p":"")+(c[1]?" _rwn":"")),e=h!==void 0?-1:0,f=I!==void 0?b("TooltipData").propsFor(I,"left"):{},g=z!==void 0?!z:void 0,i=b("VideoCallWebDriverIDs").RTC_PICKER_DIALOG_CONTACT_LIST_ITEM,j=c[0].type===b("MercuryParticipantTypes").ASSISTANT_TYPEAHEAD;j=j?r(c[0]):q(c[0],J,H);e={className:"_5f0v",onClick:P,onMouseDown:M,onMouseEnter:O,tabIndex:e,children:b("ReasonReact.bs").element(void 0,void 0,b("ImageBlockReact.bs").make(void 0,"_5l38",void 0,"medium",[k(J,H,c[0]),j,Q(a)]))};g!==void 0&&(e["aria-hidden"]=b("bs_js_primitive").valFromOption(g));j=b("React").createElement(b("Link.react"),e);g=b("React").cloneElement(j,{"data-testid":i+c[0].uid});e=b("Utils.bs").isSomeTrue(m);if(e)return b("React").createElement("li",{ref:b("bs_curry")._1(a[0],w),className:d},g);else return b("React").cloneElement(b("React").createElement("li",{ref:b("bs_curry")._1(a[0],w),className:d,role:"option"}),f,g)},function(){return[b("bs_curry")._1(c,d),!1,[void 0],d,z,B,A]},a[10],function(a,c){return b("bs_block").__(0,[[c[0],a[0],c[2],c[3],c[4],c[5],c[6]]])},a[12]]},d=b("ReasonReact.bs").wrapReasonForJs(a,function(a){return c(a.contactAdapter,a.rawContact,b("bs_js_primitive").nullable_to_opt(a.onHighlight),b("bs_js_primitive").nullable_to_opt(a.onSelect),b("bs_js_primitive").nullable_to_opt(a.onAction),b("bs_js_primitive").nullable_to_opt(a.actionsClass),b("bs_js_primitive").nullable_to_opt(a.admins),b("bs_js_primitive").nullable_to_opt(a.disableRole),a.extraActionsEnabled,b("bs_js_primitive").nullable_to_opt(a.hasHoverState),b("bs_js_primitive").nullable_to_opt(a.invitedEntryIDs),b("bs_js_primitive").nullable_to_opt(a.isHighlighted),b("bs_js_primitive").nullable_to_opt(a.onRenderHighlight),b("bs_js_primitive").nullable_to_opt(a.onScrollIntoView),b("bs_js_primitive").nullable_to_opt(a.originalEntryIDs),b("bs_js_primitive").nullable_to_opt(a.rowClassName),b("bs_js_primitive").nullable_to_opt(a.rowElements),b("bs_js_primitive").nullable_to_opt(a.selectedEntryIDs),b("bs_js_primitive").nullable_to_opt(a.showPresence),b("bs_js_primitive").nullable_to_opt(a.thread),b("bs_js_primitive").nullable_to_opt(a.tooltipContent),a.viewer,[])});return[d,c]}c=32;d=3;f.videoCallWebDriverIDs=b("VideoCallWebDriverIDs");f.imageSize=c;f.assistantTypeaheadPrefixLength=d;f.idsContain=j;f.renderContactImage=k;f.renderBotBadge=l;f.renderVerifiedBadge=m;f.renderSnippet=n;f.renderContactTitle=o;f.renderRegularContact=p;f.renderContactText=q;f.renderAssistantTypeaheadText=r;f.getPresenceStatus=s;f.isOriginal=t;f.isInvited=u;f.isSelected=v;f.setThisRef=w;f.didMount=x;f.didUpdate=y;f.createMake=a}),null);
__d("MessengerTypeaheadUtils",["fbt","ix","MercuryTypeaheadConstants","MessengerEnvironment","ReactDOM","SearchableEntry","gkx","immutable","mapObject","qex"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("immutable").OrderedMap,j=500,k=100,l="__special_search_entry__",m=[b("MercuryTypeaheadConstants").SEARCH_TYPE,b("MercuryTypeaheadConstants").FRIEND_TYPE,b("MercuryTypeaheadConstants").FB4C_TYPE,b("MercuryTypeaheadConstants").MESSAGE_TYPE,b("MercuryTypeaheadConstants").THREAD_TYPE,b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE,b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE,b("MercuryTypeaheadConstants").NON_FRIEND_TYPE,b("MercuryTypeaheadConstants").PAGE_TYPE,b("MercuryTypeaheadConstants").GAME_TYPE],n=[b("MercuryTypeaheadConstants").SEARCH_TYPE,b("MercuryTypeaheadConstants").FRIEND_TYPE,b("MercuryTypeaheadConstants").FB4C_TYPE,b("MercuryTypeaheadConstants").MESSAGE_TYPE,b("MercuryTypeaheadConstants").THREAD_TYPE,b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE,b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE,b("MercuryTypeaheadConstants").PAGE_TYPE,b("MercuryTypeaheadConstants").NON_FRIEND_TYPE,b("MercuryTypeaheadConstants").GAME_TYPE],o=(a={},a[b("MercuryTypeaheadConstants").SEARCH_TYPE]={header:""},a[b("MercuryTypeaheadConstants").FRIEND_TYPE]={header:g._("Contacts")},a[b("MercuryTypeaheadConstants").FB4C_TYPE]={header:g._("Coworkers")},a[b("MercuryTypeaheadConstants").MESSAGE_TYPE]={header:g._("Messages")},a[b("MercuryTypeaheadConstants").THREAD_TYPE]={header:g._("Group Conversations")},a[b("MercuryTypeaheadConstants").PAGE_TYPE]={header:g._("Businesses")},a[b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE]={header:g._("Meeting Rooms")},a[b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE]={header:g._("Bots")},a[b("MercuryTypeaheadConstants").NON_FRIEND_TYPE]={header:g._("More People")},a.game={header:g._("Games")},a);c={sortEntries:function(a,c){__p&&__p();var d=[],e=[],f=[],g=[],h=[],i=[],j=[],k=[],l=[],m=[];a.forEach(function(a){__p&&__p();switch(a.getType()){case b("MercuryTypeaheadConstants").FRIEND_TYPE:e.push(a);break;case b("MercuryTypeaheadConstants").FB4C_TYPE:f.push(a);break;case b("MercuryTypeaheadConstants").MESSAGE_TYPE:g.push(a);break;case b("MercuryTypeaheadConstants").THREAD_TYPE:h.push(a);break;case b("MercuryTypeaheadConstants").PAGE_TYPE:case b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE:j.push(a);break;case b("MercuryTypeaheadConstants").NON_FRIEND_TYPE:i.push(a);break;case b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE:k.push(a);break;case b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE:l.push(a);break;case b("MercuryTypeaheadConstants").SEARCH_TYPE:d.push(a);break;case b("MercuryTypeaheadConstants").GAME_TYPE:m.push(a);break}});if(b("qex")._("882163")){c=b("qex")._("899030");a=c===2||c===3?j.slice(0,c):j;return d.concat(e,f,g,h,k,l,a,i,m)}return d.concat(e,f,g,h,k,l,i,j,m)},sortEntriesWithoutPages:function(a){__p&&__p();var c=[],d=[],e=[],f=[];a.forEach(function(a){switch(a.getType()){case b("MercuryTypeaheadConstants").FRIEND_TYPE:c.push(a);break;case b("MercuryTypeaheadConstants").FB4C_TYPE:d.push(a);break;case b("MercuryTypeaheadConstants").THREAD_TYPE:e.push(a);break;case b("MercuryTypeaheadConstants").NON_FRIEND_TYPE:f.push(a);break}});return c.concat(d,e,f)},sortEntriesWithoutGroupsOrViewer:function(a,c){__p&&__p();var d=[],e=[],f=[];a.forEach(function(a){if(a.getUniqueID()===c)return;switch(a.getType()){case b("MercuryTypeaheadConstants").FRIEND_TYPE:d.push(a);break;case b("MercuryTypeaheadConstants").FB4C_TYPE:e.push(a);break;case b("MercuryTypeaheadConstants").NON_FRIEND_TYPE:f.push(a);break}});return d.concat(e,f)},getEntryOrder:function(a,c){if(c==null)if(b("qex")._("882163"))return n;else return m;else return c},orderEntries:function(a,c){var d=this,e=[];this.getEntryOrder(c).filter(function(a){return a!==b("MercuryTypeaheadConstants").SEARCH_TYPE}).concat(b("MercuryTypeaheadConstants").SEARCH_TYPE).forEach(function(b){return e.push.apply(e,a.filter(function(a){return d.areSectionsEqual(a.getType(),b)}))});return e},buildSingleSection:function(a){return i([["",a]])},buildListSections:function(a,c,d){__p&&__p();if(!a.length)return i();d=this.getEntryOrder(c,d);var e=b("mapObject")(o,function(a){return babelHelpers["extends"]({},a,{entries:[]})});e[b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE]=e[b("MercuryTypeaheadConstants").PAGE_TYPE];var f=b("qex")._("861958");c===""&&f===!0&&(e[b("MercuryTypeaheadConstants").FRIEND_TYPE].header=g._("Suggested"));a.forEach(function(a){var b=a.getType();e[b]&&e[b].entries.push(a)});return i(d.filter(function(a){return e[a].entries.length}).map(function(a){return[e[a].header,e[a].entries]}))},buildCustomSection:function(a,b){var c;return c={},c[a]=b,c},areSectionsEqual:function(a,c){return a===b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE?c===b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE||c===b("MercuryTypeaheadConstants").PAGE_TYPE:a===c},scrollEntryIntoView:function(a,c){var d=b("ReactDOM").findDOMNode(c),e=c.getScrollTop(),f=a.offsetTop-e;d=d.offsetHeight-a.offsetHeight;a=Math.abs(d-f);f>=d&&a<=k?c.scrollToPosition(e+f-d,!0,{duration:j}):f<0&&a<=d+k&&c.scrollToPosition(e+f,!0,{duration:j})},getMessageSearchEntry:function(a){return b("gkx")("860320")||!b("MessengerEnvironment").messengerui||a.length<2?null:new(b("SearchableEntry"))({uniqueID:l,title:g._("Search Messages for \"{queryString}\"",[g._param("queryString",a)]),photo:h("86924"),type:b("MercuryTypeaheadConstants").SEARCH_TYPE})},isMessageSearchEntry:function(a){return a.getUniqueID()===l}};e.exports=c}),null);
__d("MessengerContactList.react",["cx","fbt","MessengerContactListRowReact.bs","ImageBlock.react","ImmutableObject","MercuryIDs","MessengerDotComAndInboxM4Check.bs","MessengerSpinner.react","MessengerState.bs","MessengerTypeaheadUtils","React","gkx","immutable","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("MessengerContactListRowReact.bs").createMake();var i=a[0];a[1];var j=b("gkx")("818495");c=b("React").PropTypes;d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){__p&&__p();var e=d.props.rowComponent||i;return b("React").createElement("div",{key:c,className:"_29hk"},d.$4(c),b("React").createElement("ul",{id:d.props.controlleeID,role:d.props.disableRole?void 0:"listbox",className:"_29hl"},a.map(function(a,c){c=c===0?b("joinClasses")(d.props.rowClassName,"_3h3c"):d.props.rowClassName;var f=a.id||a.getUniqueID(),g=d.props.thread;if(j&&f&&!g){var h=b("MercuryIDs").getThreadIDFromUserID(f);g=b("MessengerState.bs").getThreadMetaNow(d.props.viewer,h);g||b("MessengerState.bs").getThreadMeta(d.props.viewer,h,function(a){g=a})}return b("React").createElement(e,{actionsClass:d.props.actionsClass,admins:d.props.admins,contactAdapter:d.props.contactAdapter,disableRole:d.props.disableRole,extraActionsEnabled:!!d.props.extraActionsEnabled,hasHoverState:d.props.hasHoverState,invitedEntryIDs:d.props.invitedEntryIDs,isHighlighted:d.props.highlightedEntry&&d.props.highlightedEntry.getUniqueID()===a.getUniqueID(),key:f,onAction:d.props.onAction,onHighlight:d.props.onHighlight,onRenderHighlight:d.props.onRenderHighlight,onScrollIntoView:d.props.onScrollIntoView,onSelect:d.props.onSelect,originalEntryIDs:d.props.originalEntryIDs,rawContact:a,rowClassName:c,rowElements:d.props.rowElements,selectedEntryIDs:d.props.selectedEntryIDs,showPresence:d.props.showPresence,thread:g,tooltipContent:a.getAuxiliaryData&&a.getAuxiliaryData().tooltipContent,viewer:d.props.viewer})})))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:this.props.className},this.props.listSections.map(this.$1).toArray(),this.$2(),this.$3())};d.$4=function(a){if(!a)return null;var c=b("MessengerDotComAndInboxM4Check.bs").yes?"_225b _6ybl":"_225b";return b("React").createElement("div",{className:c},a)};d.$2=function(){return!this.props.isLoading?null:b("React").createElement(b("ImageBlock.react"),{className:"_225c",spacing:"medium"},b("React").createElement(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),b("React").createElement("div",{className:"_4g0h"},h._("Searching...")))};d.$3=function(){if(this.props.queryString&&this.props.queryString.length>0&&!this.props.isLoading){var a=this.props.listSections.filter(function(a){return a.length!=1||!b("MessengerTypeaheadUtils").isMessageSearchEntry(a[0])}).size;if(a<1)return b("React").createElement("div",{className:"_3xcx"},h._("No results found"))}return null};return c}(b("React").PureComponent);d.propTypes={actionsClass:c.func,admins:c.object,controlleeID:c.string,contactAdapter:c.func.isRequired,disableRole:c.bool,extraActionsEnabled:c.bool,hasHoverState:c.bool,highlightedEntry:c.object,invitedEntryIDs:c.instanceOf(b("immutable").Set),isLoading:c.bool,listSections:c.instanceOf(b("immutable").OrderedMap).isRequired,onAction:c.func,onHighlight:c.func,onRenderHighlight:c.func,onScrollIntoView:c.func,onSelect:c.func,originalEntryIDs:c.instanceOf(b("immutable").Set),queryString:c.string,rowClassName:c.string,rowElements:c.instanceOf(b("immutable").Map),selectedEntryIDs:c.instanceOf(b("immutable").Set),showPresence:c.bool,thread:c.instanceOf(b("ImmutableObject")),viewer:c.string.isRequired};e.exports=d}),null);
__d("MessengerFacepileImageM4React.bs",["Image.bs","React","bs_belt_Option","ReasonReact.bs","bs_js_primitive","bs_caml_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return b("bs_caml_primitive").caml_int_max(2,a/20|0)}function a(a){var c=a.borderColor,d=a.className,e=a.imgSize,f=a.offsetLeft;a=a.src;c=b("bs_belt_Option").getWithDefault(b("bs_belt_Option").flatMap(c,function(a){if(a==null)return void 0;else return b("bs_js_primitive").some(a)}),"white");var h=g(e);f=f!==void 0?{border:""+(String(h)+("px solid "+(String(c)+""))),height:""+(String(e)+"px"),left:""+(String(f)+"px"),width:""+(String(e)+"px")}:{border:""+(String(h)+("px solid "+(String(c)+""))),height:""+(String(e)+"px"),width:""+(String(e)+"px")};return b("React").createElement("div",{className:d,style:f},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,"",void 0,void 0,a,e,void 0,e,void 0,[])))}c=a;f.calcBorderWidth=g;f.make=c}),null);
__d("MessengerFacepileOverflowM4React.bs",["cx","React","bs_belt_Option","joinClasses","bs_js_primitive","bs_caml_primitive"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){var c=a.borderColor,d=a.className,e=a.imgSize;a=a.text;c=b("bs_belt_Option").getWithDefault(b("bs_belt_Option").flatMap(c,function(a){if(a==null)return void 0;else return b("bs_js_primitive").some(a)}),"white");var f=b("bs_caml_primitive").caml_int_max(2,e/20|0);return b("React").createElement("div",{className:b("joinClasses")("_7q1p",d),style:{border:""+(String(f)+("px solid "+(String(c)+""))),height:""+(String(e)+"px"),width:""+(String(e)+"px")}},b("React").createElement("div",{className:"_7q1q"},a))}c=a;f.make=c}),null);
__d("MessengerFacepileM4React.bs",["cx","Image.bs","React","bs_caml_array","bs_caml_int32","bs_belt_Option","ReasonReact.bs","joinClasses","bs_js_primitive","MessengerFacepileImageM4React.bs","MessengerFacepileOverflowM4React.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,c,d,e){__p&&__p();var f=d.length;if(f!==0)if(f!==1){f=(e<<1)/3|0;var g={className:"_7q0v",imgSize:f,src:b("bs_caml_array").caml_array_get(d,1)};a!==void 0&&(g.borderColor=b("bs_js_primitive").valFromOption(a));f={className:"_7q1i",imgSize:f,src:b("bs_caml_array").caml_array_get(d,0)};a!==void 0&&(f.borderColor=b("bs_js_primitive").valFromOption(a));return b("React").createElement("div",{className:b("joinClasses")(b("bs_belt_Option").getWithDefault(c,""),"_7q1j"),style:{height:""+(String(e)+"px"),width:""+(String(e)+"px")}},b("React").createElement(b("MessengerFacepileImageM4React.bs").make,g),b("React").createElement(b("MessengerFacepileImageM4React.bs").make,f))}else return b("React").createElement("div",{className:b("joinClasses")(b("bs_belt_Option").getWithDefault(c,""),"_7t0d")},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_7q1k","",void 0,void 0,b("bs_caml_array").caml_array_get(d,0),e,void 0,e,void 0,[])));else return null}function i(a,c,d,e,f){__p&&__p();var g=f-20|0,h=g+(b("MessengerFacepileImageM4React.bs").calcBorderWidth(g)<<1)|0,i=e.length,j=0;if(i>2||i<0)if(d!==void 0){d=d;if(d>4){var k=b("bs_caml_int32").imul(g,3)-25|0;d={className:"_7q1l",imgSize:g,text:"+"+String(d-3|0)};a!==void 0&&(d.borderColor=b("bs_js_primitive").valFromOption(a));var l={className:"_7q1m",imgSize:g,offsetLeft:((k/2|0)-(g/2|0)|0)-3|0,src:b("bs_caml_array").caml_array_get(e,1)};a!==void 0&&(l.borderColor=b("bs_js_primitive").valFromOption(a));var m={className:"_7q1n",imgSize:g,src:b("bs_caml_array").caml_array_get(e,0)};a!==void 0&&(m.borderColor=b("bs_js_primitive").valFromOption(a));return b("React").createElement("div",{className:b("joinClasses")(b("bs_belt_Option").getWithDefault(c,""),"_7q1j"),style:{height:""+(String(h)+"px"),width:""+(String(k)+"px")}},b("React").createElement(b("MessengerFacepileOverflowM4React.bs").make,d),b("React").createElement(b("MessengerFacepileImageM4React.bs").make,l),b("React").createElement(b("MessengerFacepileImageM4React.bs").make,m))}else j=1}else j=1;else switch(i){case 0:return null;case 1:return b("React").createElement("div",{className:b("joinClasses")(b("bs_belt_Option").getWithDefault(c,""))},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_7q1k","",void 0,void 0,b("bs_caml_array").caml_array_get(e,0),f,void 0,f,void 0,[])));case 2:k=(g<<1)-10|0;d={className:"_7q1l",imgSize:g,src:b("bs_caml_array").caml_array_get(e,1)};a!==void 0&&(d.borderColor=b("bs_js_primitive").valFromOption(a));l={className:"_7q1n",imgSize:g,src:b("bs_caml_array").caml_array_get(e,0)};a!==void 0&&(l.borderColor=b("bs_js_primitive").valFromOption(a));return b("React").createElement("div",{className:b("joinClasses")(b("bs_belt_Option").getWithDefault(c,""),"_7q1j"),style:{height:""+(String(h)+"px"),width:""+(String(k)+"px")}},b("React").createElement(b("MessengerFacepileImageM4React.bs").make,d),b("React").createElement(b("MessengerFacepileImageM4React.bs").make,l))}if(j===1){m=b("bs_caml_int32").imul(g,3)-25|0;i={className:"_7q1l",imgSize:g,src:b("bs_caml_array").caml_array_get(e,2)};a!==void 0&&(i.borderColor=b("bs_js_primitive").valFromOption(a));f={className:"_7q1m",imgSize:g,offsetLeft:(m/2|0)-(g/2|0)|0,src:b("bs_caml_array").caml_array_get(e,1)};a!==void 0&&(f.borderColor=b("bs_js_primitive").valFromOption(a));k={className:"_7q1n",imgSize:g,src:b("bs_caml_array").caml_array_get(e,0)};a!==void 0&&(k.borderColor=b("bs_js_primitive").valFromOption(a));return b("React").createElement("div",{className:b("joinClasses")(b("bs_belt_Option").getWithDefault(c,""),"_7q1j"),style:{height:""+(String(h)+"px"),width:""+(String(m)+"px")}},b("React").createElement(b("MessengerFacepileImageM4React.bs").make,i),b("React").createElement(b("MessengerFacepileImageM4React.bs").make,f),b("React").createElement(b("MessengerFacepileImageM4React.bs").make,k))}}function a(a){var b=a.borderColor,c=a.className,d=a.expanded,e=a.srcs,f=a.size;a=a.totalParticipants;if(d===!0)return i(b,c,a,e,f);else return h(b,c,e,f)}c=a;f.makeCompact=h;f.makeExpanded=i;f.make=c}),null);
__d("MercuryParticipantsImageM4React.bs",["bs_curry","React","bs_js_primitive","MessengerParticipants.bs","MessengerFacepileM4React.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.borderColor,d=a.className,e=a.expanded,f=a.participants,g=a.size;a=a.totalParticipants;var h=b("React").useRef(!1),i=b("React").useRef(void 0),j=b("React").useState(function(){return[]}),k=j[1];b("React").useEffect(function(){h.current=!0;return function(){h.current=!1;var a=i.current;if(a!==void 0){a=b("bs_js_primitive").valFromOption(a).remove;return b("bs_curry")._1(a,0)}else return 0}},[]);b("React").useEffect(function(){__p&&__p();var a=i.current;if(a!==void 0){a=b("bs_js_primitive").valFromOption(a).remove;b("bs_curry")._1(a,0)}f.length===0?b("bs_curry")._1(k,function(){return[]}):i.current=b("bs_js_primitive").some(b("MessengerParticipants.bs").getOrderedBigImageMultiWithSize(f,function(a){var c=a.reduce(function(a,b){b==null||a.push(b);return a},[]);if(h.current)return b("bs_curry")._1(k,function(){return c});else return 0},g));return void 0},[e,f,g]);if(f.length>0){j={srcs:j[0],size:g};c!==void 0&&(j.borderColor=b("bs_js_primitive").valFromOption(c));d!==void 0&&(j.className=b("bs_js_primitive").valFromOption(d));e!==void 0&&(j.expanded=b("bs_js_primitive").valFromOption(e));a!==void 0&&(j.totalParticipants=b("bs_js_primitive").valFromOption(a));return b("React").createElement(b("MessengerFacepileM4React.bs").make,j)}else return null}c=a;f.make=c}),null);
__d("MessengerThreadImageM4React.bs",["React","bs_caml_array","MercuryIDs","bs_belt_Option","bs_js_primitive","MercuryParticipantsImageM4React.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.borderColor,d=a.className,e=a.expanded,f=a.size,g=a.thread;a=a.viewer;var h=g.image_src;if(h==null){var i=g.participants,j=b("MercuryIDs").getParticipantIDFromUserID(a);a=b("MercuryIDs").isCanonical(g.thread_id);if(i.length===1&&b("bs_caml_array").caml_array_get(i,0)===j)g=i;else{var k=i.filter(function(a){return a!==j});a=!a;g=a?k.slice(0,3):k}a={participants:g,size:f,totalParticipants:i.length};c!==void 0&&(a.borderColor=b("bs_js_primitive").valFromOption(c));d!==void 0&&(a.className=b("bs_js_primitive").valFromOption(d));e!==void 0&&(a.expanded=b("bs_js_primitive").valFromOption(e));return b("React").createElement(b("MercuryParticipantsImageM4React.bs").make,a)}else return b("React").createElement("div",{className:b("bs_belt_Option").getWithDefault(d,""),style:{backgroundImage:"url("+(String(h)+")"),backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",height:""+(String(f)+"px"),width:""+(String(f)+"px"),backgroundSize:"cover",borderRadius:"50%"}})}c=a;f.make=c}),null);
__d("MessengerThreadImageM4React.re",["MessengerThreadImageM4React.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerThreadImageM4React.bs").make;f.make=a}),null);
__d("MessengerContentSearchFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({BROWSE_MESSAGE_IN_THREAD:"browse_message_in_thread",CHANGE_QUERY:"change_query",END_CONTENT_SEARCH:"end_content_search",INITIATE_CONTENT_SEARCH:"initiate_content_search",LOAD_MORE_THREADS:"load_more_threads",NUM_BROWSE_ACTIONS_WITHIN_THREAD:"num_browse_actions_within_thread",SELECT_THREAD:"select_thread",THREAD_IMPRESSIONS:"thread_impressions",LOAD_MESSAGE_IN_THREAD:"load_message_in_thread",BROWSE_CONTEXT:"browse_context"});b=Object.freeze({SEARCH_FROM_INTEGRATED_MESSAGE_SEARCH:"search_from_integrated_message_search",SEARCH_WITHIN_THREAD:"search_within_thread",SEARCH_ALL_THREADS:"search_all_threads"});c=Object.freeze(babelHelpers["extends"]({},b,{END_WITH_DONE_BUTTON:"end_with_done_button",END_WITH_X_BUTTON:"end_with_x_button",END_WITH_BACK_BUTTON:"end_with_back_button",END_BY_CHANGING_THREADS:"end_by_changing_threads"}));e.exports={FUNNEL_NAME:"WWW_MESSENGER_CONTENT_SEARCH_FUNNEL",FUNNEL_LOGGER_EVENTS:a,FUNNEL_LOGGER_TAGS:c,ENTRY_SURFACES:b}}),null);